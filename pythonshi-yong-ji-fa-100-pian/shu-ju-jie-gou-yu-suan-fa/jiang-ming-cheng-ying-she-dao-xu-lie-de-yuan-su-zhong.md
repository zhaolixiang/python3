# 1ã€éœ€æ±‚ğŸ™€

> æˆ‘ä»¬çš„ä»£ç æ˜¯é€šè¿‡ä½ç½®ï¼ˆå³ç´¢å¼•æˆ–ä¸‹æ ‡ï¼‰æ¥è®¿é—®åˆ—è¡¨ä¼šå…ƒç»„çš„ï¼Œä½†æœ‰æ—¶å€™è¿™ä¼šè®©ä»£ç å˜å¾—æœ‰äº›éš¾ä»¥é˜…è¯»ã€‚æˆ‘ä»¬å¸Œæœ›å¯ä»¥é€šè¿‡åç§°æ¥è®¿é—®å…ƒç´ ï¼Œä»¥æ­¤å‡å°‘ç»“æ„ä¸­å¯¹ä½ç½®çš„ä¾èµ–æ€§ã€‚

# 2ã€è§£å†³æ–¹æ¡ˆğŸ˜¸

ç›¸æ¯”æ™®é€šçš„å…ƒç»„ï¼Œcollections.namedtuple\(\)\(å‘½åå…ƒç»„\)åªå¢åŠ äº†æå°‘çš„å¼€é”€å°±æä¾›äº†è¿™äº›ä¾¿åˆ©ã€‚å®é™…ä¸Šcollections.namedtuple\(\)æ˜¯ä¸€ä¸ªå·¥å‚æ–¹æ³•ï¼Œå®ƒè¿”å›çš„æ˜¯Pythonä¸­æ ‡å‡†å…ƒç»„ç±»å‹çš„å­ç±»ã€‚æˆ‘ä»¬æä¾›ç»™å®ƒä¸€ä¸ªç±»å‹åç§°ä»¥åŠç›¸åº”çš„å­—æ®µï¼Œå®ƒå°±è¿”å›ä¸€ä¸ªå¯å®ä¾‹åŒ–çš„ç±»ã€ä¸ºä½ å·²ç»å®šä¹‰å¥½çš„å­—æ®µä¼ å…¥å€¼ç­‰ã€‚

```
from collections import namedtuple
Subscriber=namedtuple('Subsciber',['addr','joined'])
sub=Subscriber("1782980833@qq.com","2018-10-23")

print(sub)
print(sub.addr)
print(sub.joined)

print(len(sub))
addr,joined=sub
print(addr)
print(joined)

#ä¸‹é¢é”™è¯¯ï¼Œä»¥ä¸ºä½ namedtupleæ˜¯ä¸å¯å˜çš„
#sub.joined="2019"
```

ç»“æœï¼š

```
Subsciber(addr='1782980833@qq.com', joined='2018-10-23')
1782980833@qq.com
2018-10-23
2
1782980833@qq.com
2018-10-23
```

å°½ç®¡namedtupleçš„å®ä¾‹çœ‹èµ·æ¥å°±åƒä¸€ä¸ªæ™®é€šçš„ç±»å®ä¾‹ï¼Œä½†å®ƒçš„å®ä¾‹ä¸æ™®é€šçš„å…ƒç»„æ˜¯å¯äº’æ¢çš„ï¼Œè€Œä¸”æ”¯æŒæ‰€æœ‰æ™®é€šå…ƒç»„æ‰€æ”¯æŒçš„æ“ä½œã€‚

å‘½åå…ƒç»„çš„ä¸»è¦ä½œç”¨åœ¨äºå°†ä»£ç åŒå®ƒæ‰€æ§åˆ¶çš„å…ƒç´ ä½ç½®é—´è§£è€¦ã€‚æ‰€ä»¥ï¼Œå¦‚æœä»æ•°æ®åº“è°ƒç”¨ä¸­å¾—åˆ°äº†ä¸€ä¸ªå¤§å‹çš„å…ƒç»„åˆ—è¡¨ï¼Œè€Œä¸”é€šè¿‡å…ƒç´ çš„ä½ç½®æ¥è®¿é—®å…ƒç´ ï¼Œé‚£ä¹ˆå‡å¦‚åœ¨è¡¨å•ä¸­æ–°å¢äº†ä¸€åˆ—æ•°æ®ï¼Œé‚£ä¹ˆä»£ç å°±ä¼šå´©æºƒï¼Œä½†å¦‚æœé¦–å…ˆå°†è¿”å›çš„å…ƒç»„è½¬æ¢ä¸ºå‘½åå…ƒç»„ï¼Œå°±ä¸ä¼šå‡ºç°é—®é¢˜ã€‚

ä¸ºäº†è¯´æ˜è¿™ä¸ªé—®é¢˜ï¼Œä¸‹é¢æœ‰ä¸€äº›ä½¿ç”¨æ™®é€šå…ƒç»„çš„ä»£ç ï¼š

```
def compute_cost(records):
    total=0.0
    for rec in records:
        total+=rec[1]*rec[2]
    return total
```

é€šè¿‡ä½ç½®æ¥å¼•ç”¨å…ƒç´ å¸¸å¸¸ä½¿å¾—ä»£ç çš„è¡¨è¾¾åŠ›ä¸å¤Ÿå¼ºï¼Œè€Œä¸”ä¹Ÿå¾ˆä¾èµ–äºè®°å½•çš„å…·ä½“ç»“æ„ã€‚

ä¸‹é¢æ˜¯ä½¿ç”¨å‘½åå…ƒç»„çš„ç‰ˆæœ¬ï¼š

```
from collections import namedtuple
Stock=namedtuple('Stock',['name','shares','price'])
def compute_cost(records):
    total=0.0
    for rec in records:
        s=Stock(*rec)
        total+=s.shares*s.price
    return total
```

# 3ã€åˆ†æğŸ˜ˆ

namedtupleçš„ä¸€ç§å¯èƒ½ç”¨æ³•æ˜¯ä½œä¸ºå­—å…¸çš„æ›¿ä»£ï¼Œåè€…éœ€è¦æ›´å¤šçš„ç©ºé—´æ¥å­˜å‚¨ã€‚å› æ­¤ï¼Œå¦‚æœè¦æ„å»ºè®¾è®¡å­—å…¸çš„å¤§å‹æ•°æ®ï¼Œä½¿ç”¨namedtupleä¼šæ›´åŠ é«˜æ•ˆï¼Œä½†æ˜¯è¯·æ³¨æ„ï¼Œä¸å­—å…¸ä¸åŒçš„æ˜¯ï¼Œnamedtupleæ˜¯ä¸å¯å˜çš„ã€‚

å¦‚æœéœ€è¦ä¿®æ”¹ä»»ä½•å±æ€§ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨namedtupleå®ä¾‹\_replace\(\)æ–¹æ³•æ¥å®ç°ã€‚è¯¥æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å‘½åå…ƒç»„ï¼Œå¹¶å¯¹ç›¸åº”çš„å€¼åšæ›¿æ¢ã€‚

```
from collections import namedtuple
Subscriber=namedtuple('Subsciber',['addr','joined'])
sub=Subscriber("1782980833@qq.com","2018-10-23")

print(sub)

sub=sub._replace(joined="2018-10-24")
print(sub)
```

ç»“æœï¼š

```
Subsciber(addr='1782980833@qq.com', joined='2018-10-23')
Subsciber(addr='1782980833@qq.com', joined='2018-10-24')
```

\__replace\(\)æ–¹æ³•æœ‰ä¸€ä¸ªå¾®å¦™çš„ç”¨é€”ï¼Œé‚£å°±æ˜¯å®ƒå¯ä»¥ä½œä¸ºä¸€ç§ç®€å•çš„æ–¹æ³•å¡«å……å…·æœ‰å¯é€‰æˆ–ç¼ºå¤±å­—æ®µçš„å‘½åå…ƒç»„ã€‚è¦åšåˆ°è¿™ç‚¹ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªåŒ…å«é»˜è®¤å€¼å¾—åŸå‹æ•°ç»„ï¼Œç„¶åä½¿ç”¨_\_replace\(\)æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼ŒæŠŠç›¸åº”çš„å€¼æ›¿æ¢æ‰ã€‚

```
from collections import namedtuple
Subscriber=namedtuple('Subsciber',['addr','joined','age'])
sub=Subscriber("",None,0)

def dict_to_stock(s):
    return sub._replace(**s)

a={"addr":"111111@qq.com","joined":"1111-11-11","age":11}
a=dict_to_stock(a)
print(a)

b={"addr":"111111@qq.com","joined":"1111-11-11"}
b=dict_to_stock(b)
print(b)

```

ç»“æœï¼š

```
Subsciber(addr='111111@qq.com', joined='1111-11-11', age=11)
Subsciber(addr='111111@qq.com', joined='1111-11-11', age=0)
```



