# 1ã€éœ€æ±‚ğŸ™€

> æˆ‘ä»¬æƒ³å»é™¤åºåˆ—å‡ºç°çš„é‡å¤å…ƒç´ ï¼Œä½†ä»ç„¶ä¿æŒå‰©ä¸‹çš„å…ƒç´ çš„é¡ºåºä¸å˜ã€‚

å¦‚æœåªæ˜¯æƒ³è¦å»é‡ï¼Œé‚£ä¹ˆé€šå¸¸è¶³å¤Ÿç®€å•çš„æ–¹æ³•å°±æ˜¯æ„å»ºä¸€ä¸ªé›†åˆï¼š

```
a=[1,5,4,36,7,8,2,3,5,7]
#ç»“æœä¸ºï¼š{1, 2, 3, 4, 5, 36, 7, 8}
print(set(a))
```

# 2ã€è§£å†³æ–¹æ¡ˆğŸ˜¸

å¦‚æœåºåˆ—ä¸­çš„å€¼æ˜¯å¯å“ˆå¸Œçš„ï¼ˆhashableï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡ä½¿ç”¨é›†åˆå’Œç”Ÿæˆå™¨è½»æ¾è§£å†³ã€‚

> å¦‚æœä¸€ä¸ªå¯¹è±¡æ˜¯å¯å“ˆå¸Œçš„ï¼Œé‚£ä¹ˆå®ƒçš„ç”Ÿå­˜æœŸå†…å¿…é¡»æ˜¯ä¸å¯å˜çš„ï¼Œå®ƒéœ€è¦æœ‰ä¸€ä¸ª`__hash__()`æ–¹æ³•ã€‚æ•´æ•°ã€æµ®ç‚¹æ•°ã€å­—ç¬¦ä¸²ã€å…ƒç´ éƒ½æ˜¯ä¸å¯å˜çš„ã€‚

```
def dedupe(items):
    seen=set()
    for item in items:
        if item not in seen:
            yield item
            seen.add(item)

a=[1,2,3,1,9,1,5,10]
print(list(dedupe(a)))
```

è¿è¡Œç»“æœï¼š

```
[1, 2, 3, 9, 5, 10]
```

åªæœ‰å½“åºåˆ—ä¸­çš„å…ƒç´ æ˜¯å¯å“ˆå¸Œçš„æ—¶å€™æ‰èƒ½è¿™ä¹ˆåšã€‚å¦‚æœæƒ³åœ¨ä¸å¯å“ˆå¸Œçš„å¯¹è±¡åºåˆ—ä¸­å»é™¤é‡å¤é¡¹ï¼Œéœ€è¦ä¸Šè¿°ä»£ç ç¨ä½œä¿®æ”¹ï¼š

```
def dedupe(items,key=None):
    seen=set()
    for item in items:
        value=item if key is None else key(item)
        if value not in seen:
            yield item
            seen.add(value)

a=[
    {'x':1,'y':2},
    {'x':1,'y':3},
    {'x':1,'y':4},
    {'x':1,'y':2},
    {'x':1,'y':3},
    {'x':1,'y':1},

]
print(list(dedupe(a,key=lambda d:(d['x'],d['y']))))

print(list(dedupe(a,key=lambda d:d['y'])))
```

è¿è¡Œç»“æœï¼š

```
[{'x': 1, 'y': 2}, {'x': 1, 'y': 3}, {'x': 1, 'y': 4}, {'x': 1, 'y': 1}]
[{'x': 1, 'y': 2}, {'x': 1, 'y': 3}, {'x': 1, 'y': 4}, {'x': 1, 'y': 1}]
```

è¿™é‡Œçš„å‚æ•°keyçš„ä½œç”¨æ˜¯æŒ‡å®šä¸€ä¸ªå‡½æ•°ç”¨æ¥å°†åºåˆ—ä¸­çš„å…ƒç´ è½¬æ¢ä¸ºå¯å“ˆå¸Œçš„ç±»å‹ï¼Œé‚£ä¹ˆåšçš„ç›®çš„æ˜¯ä¸ºäº†æ£€æµ‹é‡å¤é¡¹ã€‚

