#7、托管对象

> 进程不支持共享对象，上面描述的创建共享值和数组，但都是指定的特殊类型，对高级的Python对象（如：字典、列表、用户自定义类的实例）不起作用。
>
> 还好multiprocessing模块提供了一种使用共享对象的途径：单前提是这些对象运行在所谓的【管理器】的控制之下。
>
> 管理器是独立的子进程，其中存在真实的对象，并以服务器的形式运行，其他进程通过使用代理访问共享对象，这些
>
> 代理作为管理器服务器的客户端而运行。

### 语法：

```
m=Manager():在一个独立的进程中创建运行的管理器，返回值是SyncManager（定义在multiprocess.managersa模块中）类的实例。
m可以创建共享对象
```

### 常用方法

* ##### m.Array\(typecode,sequence\)

```
在服务器上创建共享的Array实例并返回可以访问它的代理。
```

* ##### m.BoundedSemaphore\(value\)

```
在服务器上创建共享的threading.BoundedSemphore实例，并返回可访问它的代理。
```

* ##### m.Condition\(lock\)

```
在服务器上创建共享的threading.Condition实例，并返回可访问它的代理。
lock是m.Lock()或m.Rlock()方法创建的代理实例
```

* ##### m.dict\(args\)

```
在服务器上创建共享的dict（字典）实例，并返回可以访问它的代理。
```

* ##### m.Event\(\)

```
在服务器上创建共享的thread.Event实例，并返回可以访问它的代理。
```

* ##### m.list\(sequence\)

```
在服务器上创建共享的list实例，并返回可以访问它的代理。
```

* ##### m.Lock

```
子服务器上创建共享的threading.Lock实例，并返回可访问它的代理。
```

* ##### m.Namespace\(\)

```
在服务器创建共享的namespace对象，并返回可以访问它的代理。
namespace就是一个类似于Python模块的对象。例如：如果n是一个命名空间代理，那么可以使用(.)赋值和读取属性，
例如：n.name=value 或value=n.name。但name的名称十分重要，如果name以字母开头，那么这个值就是管理器所拥有的共享对象的一部分，
所有其它进程均可访问它，如果name以下划线开头，那么它只是代理对象的一部分，并不是共享。
```

* ##### m.Queue\(\)

```
在服务器上创建共享的Queue.Queue对象，并返回可访问它的代理。
```

* ##### m.RLock\(\)

```
在服务器上创建共享的threading.Rlick对象，并返回可访问它的代理。
```

* ##### m.Semaphore\(value\)

```
在服务器上创建共享的threading.Semaphore对象，并返回可访问它的代理。
```

* ##### m.value\(typecode,value\)

```
在服务器上创建一个共享的Value对象，并返回可访问它的代理。
```

* ##### 实例1使用管理者创建一个在进程中共享的字典：

##### 代码：

```

```

0

1