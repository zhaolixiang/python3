简单来说，AOF持久化会将被执行的命令写到AOF文件的末尾，以此来记录数据发送的变化。因此，Redis只要从头到尾重新执行一次AOF文件包含的所有写命令，就可以恢复AOF文件所记录的数据集。AOF持久哈可以通过设置代码appendonly yes配置选项来打开。

> 文件同步：在向硬盘写入文件时，至少会发生三件事情，当调用file.write\(\)方法（或其它编程语言里面的类似操作）对文件进行写入时，写入的内容首先会被存储到缓冲区，然后操作系统会在将来的某个时候将缓冲区存储的内容写入硬盘，而数据只有在被写入硬盘后，才算是真正地保存到了硬盘里面。用户可以通过调用file.flush\(\)方法来请求操作系统尽快地将缓冲区存储的数据写入硬盘里面，但具体地执行写入操作仍然由系统决定。除此之外，用户还可以命令操作系统将文件同步\(sync\)到硬盘，同步操作会一直阻塞直到指定的文件被写入硬盘为止。当同步操作执行完毕之后，即使系统出现故障也不会低被同步的文件造成任何影响。

下表展示了appendfsync 配置选项对AOF文件的同步频率的影响。

