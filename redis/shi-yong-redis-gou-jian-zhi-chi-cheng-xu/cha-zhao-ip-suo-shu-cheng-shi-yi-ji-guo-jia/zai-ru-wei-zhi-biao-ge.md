为了开发IP所属地查找程序，我们将使用一个IP所属城市数据库作为测试数据。这个数据库包含两个非常重要的文件：

* 一个是GeoLiteCity-Blocks.csv，它记录了多个IP地址段以及这些地址段所属城市的ID
* 另一个是GeoLiteCity-Location.csv它记录了城市ID与城市名、地区名、州县名以及我们不会用到的其他信息之间的映射。

实现IP所属地查找程序会用到两个查找表：

* 第一个查找表需要根据输入的IP地址来查找IP所属城市的ID
* 第二个查找表则需要根据输入的城市ID来查找ID对应城市的实际信息（这个城市信息中还会包括城市所在地区的其他信息）

根据IP地址来查找城市ID的查找表由有序集合实现，这个有序集合的成员为具体的城市ID，而分值则是一个根据IP地址计算出来的整数值。为了创建IP地址与城市ID之间的映射，程序需要将点分十进制格式的IP地址转换为一个整数分值，下面的ip\__to_\_score\(\)函数定义了整个转化过程：IP地址中的每8个二进制会被看做是无符号整数中的1字节，其中IP地址最开头的8个二进制位最高位。

```

def ip_ti_score(ip_address):
    score=0
    for v in ip_address.split('.'):
        score=score*256+int(v,10)
    return score

if __name__ == '__main__':
    y=ip_ti_score('117.61.12.128')
    print(y)

    x=117
    x=x*256+61
    x=x*256+12
    x=x*256+128
    print(x)

```

运行结果：

```

```

