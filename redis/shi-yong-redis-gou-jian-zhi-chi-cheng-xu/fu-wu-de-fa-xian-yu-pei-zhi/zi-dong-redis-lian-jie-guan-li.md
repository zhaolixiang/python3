# 自动Redis连接管理

手动创建和传递Redis连接并不是一件容易地事情，这不仅是因为我们需要重复查阅配置信息，还有一个原因就是，即使使用了 上一节介绍的配置管理函数，我们还是需要获取配置、连接Redis，并在使用完连接之后关闭连接。为了简化连接的管理操作，我们将编写一个装饰器，让它负责连接除配置服务器之外的所有其他Redis服务器。

> 装饰器
>
> Python提供了一种语法，用于将函数X传入另一个函数Y的内部，其中函数Y就被成为装饰器。装饰器给用户提供了一个修改函数X行为的机会。有些装饰器可以用于校验参数，而有些装饰器则可以用于注册回调函数，甚至还有一些装饰器可以用于管理连接：就像我们接下来要做的那样。

下面代码展示了我们定义的装饰器，它接受一个指定的配置作为参数并生成一个包装器，这个包装器可以包裹一个函数，使得之后对被包裹函数的调用可以自动连接至正确的Redis服务器，并且连接Redis服务器所使用的那个连接会和用户之后提供的其他参数一同传递至包裹的函数：

```

```

