在对Redis提供的5种结构有了基本的了解后，现在是时候来学习一下怎样使用这些结构来解决实际问题了。

最近几年，越来越多的网站开始提供对网页链接、文章或者稳赢进行投票的功能，这些网站会根据文章的发布时间和文章获得的投票数量计算出一个评分，然后根据这个评分来决定如何排序和展示文章。

本节将展示如何使用Redis来构建一个简单的文章投票网站的后端。

### 1、对文章进行投票

要构建一个文章投票网站，我们首先要做的就是为了这个网站设置一些数值和限制条件：如果一篇文章获得了至少200张支持票，那么久认为这篇文章是【有趣的】。假如这个网站每天发布1000篇文章，而其中的50篇符合网站对【有趣】文章的要求，那么网站要做的就是把这50篇文章放到文章放到文章列表前100位至少一天；另外，这个网站暂时不提供投反对票的功能。

为了产生一个能够随着时间流逝而不断减少的评分，程序需要根据文章的发布时间和当前时间来计算文章的评分，具体的计算方法为：将文章得到的支持票数乘以一个常量，然后加上文章的发布时间，得出的结果就是文章的评分。

我们使用从UTC时区1970年1月1日到现在为止所经过的秒数来计算文章的评分，这个值通常被成为Unix时间。之所以选择使用Unix时间，是因为所有能够运行Redis的平台上面，使用编程语言获取这个值都是非常简单的事情。另外，计算评分时与支持数量相乘的常量为432，这个常量是通过将一天的秒数（86400）除以文章展示一天所需的支持票数量（200得出的）：文章没获得一张支持票，程序就需要将程序的评分增加432分。

构建文章投票网站除了需要计算文章评分之外，还需要使用Redis结构存储网站上的各种信息。对于网站里的每一篇文章，程序都使用了一个散列来存储文章的标题、指向文章的网址、发布文章的用户、文章的发布时间、文章得到的投票数量等信息。

