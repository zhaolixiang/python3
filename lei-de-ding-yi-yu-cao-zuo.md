# Pythonç±»çš„å®šä¹‰ä¸æ“ä½œ

### 1ã€å®šä¹‰ç±»ã€åˆ›å»ºå¯¹è±¡ã€\_\_init\_\_

å®ä¾‹ï¼š

```
class People():
    """å®šä¹‰ä¸€ä¸ªPeopleç±»"""

    #__init__æ–¹æ³•æ˜¯ç±»åˆ›å»ºå¯¹è±¡æ—¶é»˜è®¤è¿è¡Œçš„å‡½æ•°ï¼Œç”¨æ¥è¿›è¡Œåˆå§‹åŒ–æ“ä½œ,ä¸éœ€è¦æ‰‹åŠ¨è°ƒç”¨
    def __init__(self,name,age):
        """åˆå§‹åŒ–å±æ€§"""
        self.name=name
        self.age=age

    def run(self):
        print("%s,å¿«è·‘ï¼Œå¸…åˆ°è¢«äººç "%self.name)

#å®šä¹‰å¯¹è±¡
mark=People("mark",18)
mark.run()

#è¿”å›å¯¹è±¡åœ¨å†…å­˜ä¸­çš„åœ°å€
print(mark)
```

ç»“æœï¼š

```
mark,å¿«è·‘ï¼Œå¸…åˆ°è¢«äººç 
<__main__.People object at 0x103b5c1d0>
```

### 2ã€\_\__str_\_\_\(\):å®šä¹‰ç±»çš„æè¿°

> å¦‚æœç›´æ¥print\(å¯¹è±¡\)ï¼Œä¼šç›´æ¥è¿”å›è¯¥å¯¹è±¡åœ¨å†…å­˜ä¸­çš„åœ°å€ï¼Œç°åœ¨æˆ‘ä»¬æƒ³è¦ä¸ç›´æ¥è¿”å›è¿™ä¸ªåœ°å€å‘¢ï¼Ÿ

å®ä¾‹ï¼š

```
class People():
    """å®šä¹‰ä¸€ä¸ªPeopleç±»"""

    #__init__æ–¹æ³•æ˜¯ç±»åˆ›å»ºå¯¹è±¡æ—¶é»˜è®¤è¿è¡Œçš„å‡½æ•°ï¼Œç”¨æ¥è¿›è¡Œåˆå§‹åŒ–æ“ä½œ,ä¸éœ€è¦æ‰‹åŠ¨è°ƒç”¨
    def __init__(self,name,age):
        """åˆå§‹åŒ–å±æ€§"""
        self.name=name
        self.age=age

    def run(self):
        print("%s,å¿«è·‘ï¼Œå¸…åˆ°è¢«äººç "%self.name)

    def __str__(self):
        msg="æˆ‘æ˜¯ä¸€ä¸ªç±»çš„ä»‹ç»ï¼Œæˆ‘çš„ä½œè€…æ˜¯ä¸ªå¤§å¸…å“¥ğŸ¤“ï¸"
        return msg

#å®šä¹‰å¯¹è±¡
mark=People("mark",18)
mark.run()

#è¿”å›å¯¹è±¡åœ¨å†…å­˜ä¸­çš„åœ°å€
print(mark)
```

ç»“æœï¼š

```
mark,å¿«è·‘ï¼Œå¸…åˆ°è¢«äººç 
æˆ‘æ˜¯ä¸€ä¸ªç±»çš„ä»‹ç»ï¼Œæˆ‘çš„ä½œè€…æ˜¯ä¸ªå¤§å¸…å“¥ğŸ¤“ï¸
```

### 3ã€ç§æœ‰å±æ€§ã€æ–¹æ³•

> åªéœ€è¦åœ¨å±æ€§å˜é‡åæˆ–æ–¹æ³•åå‰åŠ ä¸Š\_\_å°±è¡¨ç¤ºæ˜¯ç§æœ‰çš„äº†ï¼Œç®€å•å§ğŸ˜„

å®ä¾‹

```
class People():
    """å®šä¹‰ä¸€ä¸ªPeopleç±»"""

    #__init__æ–¹æ³•æ˜¯ç±»åˆ›å»ºå¯¹è±¡æ—¶é»˜è®¤è¿è¡Œçš„å‡½æ•°ï¼Œç”¨æ¥è¿›è¡Œåˆå§‹åŒ–æ“ä½œ,ä¸éœ€è¦æ‰‹åŠ¨è°ƒç”¨
    def __init__(self,name,age):
        """åˆå§‹åŒ–å±æ€§"""
        #ç§æœ‰å±æ€§name
        self.__name=name
        self.age=age

    def run(self):
        self.__test()

    def __test(self):
        print("%s,å¿«è·‘ï¼Œå¸…åˆ°è¢«äººç " % self.__name)

    def __str__(self):
        msg="æˆ‘æ˜¯ä¸€ä¸ªç±»çš„ä»‹ç»ï¼Œæˆ‘çš„ä½œè€…æ˜¯ä¸ªå¤§å¸…å“¥ğŸ¤“ï¸"
        return msg

#å®šä¹‰å¯¹è±¡
mark=People("mark",18)
mark.run()

#è¿”å›å¯¹è±¡åœ¨å†…å­˜ä¸­çš„åœ°å€
print(mark)
```

ç»“æœï¼š

```
mark,å¿«è·‘ï¼Œå¸…åˆ°è¢«äººç 
æˆ‘æ˜¯ä¸€ä¸ªç±»çš„ä»‹ç»ï¼Œæˆ‘çš„ä½œè€…æ˜¯ä¸ªå¤§å¸…å“¥ğŸ¤“ï¸
```

### 4ã€\_\__del_\_\_\(\):ææ„å‡½æ•°

> å¯¹è±¡è¢«é”€æ¯æ—¶è°ƒç”¨

å®ä¾‹ï¼š

```
class People():
    """å®šä¹‰ä¸€ä¸ªPeopleç±»"""

    #__init__æ–¹æ³•æ˜¯ç±»åˆ›å»ºå¯¹è±¡æ—¶é»˜è®¤è¿è¡Œçš„å‡½æ•°ï¼Œç”¨æ¥è¿›è¡Œåˆå§‹åŒ–æ“ä½œ,ä¸éœ€è¦æ‰‹åŠ¨è°ƒç”¨
    def __init__(self,name,age):
        """åˆå§‹åŒ–å±æ€§"""
        #ç§æœ‰å±æ€§name
        self.__name=name
        self.age=age

    def run(self):
        self.__test()

    def __test(self):
        print("%s,å¿«è·‘ï¼Œå¸…åˆ°è¢«äººç " % self.__name)

    def __str__(self):
        msg="æˆ‘æ˜¯ä¸€ä¸ªç±»çš„ä»‹ç»ï¼Œæˆ‘çš„ä½œè€…æ˜¯ä¸ªå¤§å¸…å“¥ğŸ¤“ï¸"
        return msg

    def __del__(self):
        print("%så› ä¸ºå¤ªå¸…äº†ï¼Œè¦è¢«å¹²æ‰äº†"%self.__name)

#å®šä¹‰å¯¹è±¡
mark=People("mark",18)
mark.run()

#è¿”å›å¯¹è±¡åœ¨å†…å­˜ä¸­çš„åœ°å€
print(mark)

#åˆ é™¤é”€æ¯å¯¹è±¡
del mark
```

ç»“æœï¼š

```
mark,å¿«è·‘ï¼Œå¸…åˆ°è¢«äººç 
æˆ‘æ˜¯ä¸€ä¸ªç±»çš„ä»‹ç»ï¼Œæˆ‘çš„ä½œè€…æ˜¯ä¸ªå¤§å¸…å“¥ğŸ¤“ï¸
markå› ä¸ºå¤ªå¸…äº†ï¼Œè¦è¢«å¹²æ‰äº†
```

### 5ã€ç»§æ‰¿

> ç§æœ‰æ–¹æ³•å’Œå±æ€§ä¸ä¼šè¢«ç»§æ‰¿

* ##### å•ç»§æ‰¿

å®ä¾‹ï¼š

```
class Animal():
    def __init__(self,name,age):
        self.__name=name
        self.age=age

class Dog(Animal):
    def __init__(self,name,age):
        #è°ƒç”¨çˆ¶ç±»æ–¹æ³•
        super().__init__(name,age)
    def getAge(self):
        print("å°ç‹—å¹´é¾„ï¼š",self.age)

dog=Dog(name="xDog",age=5)
dog.getAge()
```

ç»“æœï¼š

```
å°ç‹—å¹´é¾„ï¼š 5
```

* ##### å¤šç»§æ‰¿

å®ä¾‹ï¼š

```
#pythoné»˜è®¤æ‰€æœ‰ç±»éƒ½ç»§æ‰¿objectï¼Œå¯å†™å¯ä¸å†™
class Base(object):
    def test(self):
        print("Base--test")

class A(Base):
    def test(self):
        print("A--test")

class B(Base):
    def test(self):
        print("B--test")

class C(A,B):
    #passè¡¨ç¤ºæš‚æ—¶ä¸å†™ä»£ç 
    pass

c=C()
c.test()
```

ç»“æœï¼š

```
A--test
```

### 6ã€ç±»å±æ€§ã€å®ä¾‹å±æ€§

å®ä¾‹ï¼š

```
#pythoné»˜è®¤æ‰€æœ‰ç±»éƒ½ç»§æ‰¿objectï¼Œå¯å†™å¯ä¸å†™
class Base(object):
    #å…±æœ‰ç±»å±æ€§
    name="mark"
    #ç§æœ‰ç±»å±æ€§
    __age=18#æˆ‘çš„å¹´é¾„æ˜¯ä¿å¯†çš„å“Ÿ
    pass

base=Base()
print(base.name)
print(Base.name)
#ä¸‹é¢ä¸¤å¥å¥è¿è¡Œé”™è¯¯,ä¸èƒ½åœ¨ç±»å¤–è®¿é—®ç§æœ‰å±æ€§
#print(base.__age)
#print(Base.__age)
```

ç»“æœï¼š

```
mark
mark
```

### 7ã€ç±»æ–¹æ³•ã€é™æ€æ–¹æ³•

> ä¿®é¥°å™¨@classmethodæ¥æ ‡è¯†ç±»æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯ç±»å¯¹è±¡
>
> ä¿®é¥°ç¬¦@staticmethodæ¥æ ‡è¯†é™æ€æ–¹æ³•

å®ä¾‹ï¼š

```
#pythoné»˜è®¤æ‰€æœ‰ç±»éƒ½ç»§æ‰¿objectï¼Œå¯å†™å¯ä¸å†™
class Base(object):
    #å…±æœ‰ç±»å±æ€§
    name="mark"
    #ç§æœ‰ç±»å±æ€§
    __age=18#æˆ‘çš„å¹´é¾„æ˜¯ä¿å¯†çš„å“Ÿ

    #ç±»æ–¹æ³•
    @classmethod
    def changeAge(cls):
        cls.__age+=1
        return cls.__age

    @staticmethod
    def staticFun():
        return "ç±»é™æ€æ–¹æ³•è¢«è°ƒç”¨"


base=Base()
#å®ä¾‹è°ƒç”¨ç±»æ–¹æ³•
print(base.changeAge())
#ç±»è°ƒç”¨ç±»æ–¹æ³•
print(Base.changeAge())


#å®ä¾‹è°ƒç”¨ç±»é™æ€æ–¹æ³•
print(base.staticFun())
#ç±»è°ƒç”¨ç±»é™æ€æ–¹æ³•
print(Base.staticFun())
```

ç»“æœï¼š

```
19
20
ç±»é™æ€æ–¹æ³•è¢«è°ƒç”¨
ç±»é™æ€æ–¹æ³•è¢«è°ƒç”¨
```

### 8ã€\_\__new_\_\_:åˆ›å»ºå®ä¾‹æ—¶è°ƒç”¨

> ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯ç±»å¯¹è±¡ã€‚
>
> å¿…é¡»è¦æœ‰è¿”å›å€¼ï¼Œè¿”å›çš„æ˜¯å®ä¾‹åŒ–åçš„å¯¹è±¡ï¼Œå¯ä»¥return çˆ¶ç±»çš„\_\__new_\_\_æˆ–è€…objectçš„è¿™ä¸ªæ–¹æ³•ã€‚

å®ä¾‹ï¼š

```
class Base(object):
    def __init__(self):
        print("__init__è¢«è°ƒç”¨äº†")
    def __new__(cls, *args, **kwargs):
        print("__new__è¢«è°ƒç”¨äº†")
        return super().__new__(cls)



base=Base()
```

ç»“æœï¼š

```
__new__è¢«è°ƒç”¨äº†
__init__è¢«è°ƒç”¨äº†
```



